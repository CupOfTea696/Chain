<!DOCTYPE html><html lang="en-us" id="chain"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Chain by CupOfTea696</title><base href="http://chain.cupoftea.io"><link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'><link rel="stylesheet" href="/assets/css/app.css?cb=7e148ac680f27cc34c2c6ce4b70d972f"></head><body> <nav class="nav"> <section class="nav/left"> <a href="" class="nav/item">Chain</a> </section> <section class="nav/right"> <a href="docs" class="nav/item">Documentation</a> <a href="docs/api" class="nav/item">API</a> </section> </nav><section class="main-content" id="docs-results"><div class="body clearfix"><ol class="breadcrumb"><li class="breadcrumb/item"> <a href="">Home</a></li><li class="breadcrumb/item"> <a href="docs">Documentation</a></li><li class="breadcrumb/item --active">Documentation</li></ol> <aside class="sidebar"> <nav><ul class="sidebar/nav"><li class="sidebar/nav/category">Getting Started</li><li class="sidebar/nav/item"> <a href="docs/installation">Installation</a></li></ul> </nav> </aside><main id="content" class="page"><h1 id="chained-method-results">Chained Method Results</h1><ul class="toc"><li class="toc/item"><a data-scrollto="getting-result-of-a-specific-method">Getting Result Of A Specific Method</a></li><li class="toc/item"><a data-scrollto="getting-all-results">Getting All Results</a></li><li class="toc/item"><a data-scrollto="executing-a-callback-on-the-results">Executing A Callback On The Results</a></li></ul><p>Chain provides a number of ways to access the return values from the Chained methods. By default, the <code>run</code> method returns a Result Object, but there are some shortcuts to access any return values provided on the Chain Object as well.</p><h2 id="getting-result-of-a-specific-method">Getting Result Of A Specific Method</h2><p>To get the result of a specific method, you can call the <code>getResult</code> method once you have run the Chain. This allows you to get several results while disregarding other results. Use the method name you want the return value for as a parameter. You can also access the return values of a method as a property of the Results object.</p><div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nv">$chain</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Chain</span><span class="p">()</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$chain</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">(</span><span class="s1">'method1'</span><span class="p">,</span> <span class="s1">'method2'</span><span class="p">,</span> <span class="s1">'method3'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">on</span><span class="p">(</span><span class="nv">$object</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">run</span><span class="p">();</span>

<span class="nv">$method1_result</span> <span class="o">=</span> <span class="nv">$results</span><span class="o">-&gt;</span><span class="na">getResult</span><span class="p">(</span><span class="s1">'method1'</span><span class="p">);</span>
<span class="nv">$method3_result</span> <span class="o">=</span> <span class="nv">$results</span><span class="o">-&gt;</span><span class="na">method3</span><span class="p">;</span>
</code></pre></div><p>If you only need the return value of a single method, instead of calling the <code>run</code> method on the Chain, you can instantly call <code>getResult</code> on the Chain instead. Please note that when doing this, you lose all access to any other return values unless you run the same chain again.</p><div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nv">$chain</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Chain</span><span class="p">()</span>
<span class="nv">$method1_result</span> <span class="o">=</span> <span class="nv">$chain</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">(</span><span class="s1">'method1'</span><span class="p">,</span> <span class="s1">'method2'</span><span class="p">,</span> <span class="s1">'method3'</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">on</span><span class="p">(</span><span class="nv">$object</span><span class="p">)</span>
    <span class="o">-&gt;</span><span class="na">getResult</span><span class="p">(</span><span class="s1">'method1'</span><span class="p">);</span>

<span class="c1">// Calling getResult again would result in the entire Chain being executed a second time. Avoid doing this.</span>
<span class="nv">$method2_result</span> <span class="o">=</span> <span class="nv">$chain</span><span class="o">-&gt;</span><span class="na">getResult</span><span class="p">(</span><span class="s1">'method2'</span><span class="p">);</span>
</code></pre></div><h2 id="getting-all-results">Getting All Results</h2><p>To get all results as an Array, you can call <code>getResults</code> on the Results Object, or on the Chain itself. If you call <code>getResults</code> on the Chain, you lose the possibility to access any of the other methods on the Results object. Alternatively, you can call the <code>toArray</code> method, which is simply an alias for the <code>getResults</code> method on both the Results and the Chain object.</p><div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nv">$results</span> <span class="o">=</span> <span class="nv">$chain</span><span class="o">-&gt;</span><span class="na">run</span><span class="p">();</span>
<span class="nv">$results_array</span> <span class="o">=</span> <span class="nv">$results</span><span class="o">-&gt;</span><span class="na">toArray</span><span class="p">();</span>
<span class="nv">$results_array</span> <span class="o">=</span> <span class="nv">$results</span><span class="o">-&gt;</span><span class="na">getResults</span><span class="p">();</span>
<span class="nv">$method1_result</span> <span class="o">=</span> <span class="nv">$results</span><span class="o">-&gt;</span><span class="na">getResult</span><span class="p">(</span><span class="s1">'method1'</span><span class="p">);</span> <span class="c1">// $results_array['method1'] == $method1_result</span>

<span class="nv">$results_array</span> <span class="o">=</span> <span class="nv">$chain</span><span class="o">-&gt;</span><span class="na">toArray</span><span class="p">();</span>
<span class="nv">$results_array</span> <span class="o">=</span> <span class="nv">$chain</span><span class="o">-&gt;</span><span class="na">getResults</span><span class="p">();</span>
</code></pre></div><h2 id="executing-a-callback-on-the-results">Executing A Callback On The Results</h2><p>Lastly, you can execute a final Callback after running the Chain using the <code>then</code> method. This Callback will receive the Results object as a parameter, so you can manipulate the results before returning them. Don't forget to return the Results Object or any other return value you still want to use.</p><div class="highlight"><pre><code class="language-php" data-lang="php"><span class="nv">$results</span> <span class="o">=</span> <span class="nv">$chain</span><span class="o">-&gt;</span><span class="na">then</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nv">$results</span><span class="p">){</span>
    <span class="c1">// Modify a result before returning it</span>
    <span class="nv">$results</span><span class="o">-&gt;</span><span class="na">method1</span> <span class="o">=</span> <span class="nb">strtoupper</span><span class="p">(</span><span class="nv">$results</span><span class="o">-&gt;</span><span class="na">method1</span><span class="p">);</span>
    <span class="nv">$method2_result</span> <span class="o">=</span> <span class="nv">$results</span><span class="o">-&gt;</span><span class="na">getResult</span><span class="p">(</span><span class="s1">'method2'</span><span class="p">);</span>
    <span class="nv">$results</span><span class="o">-&gt;</span><span class="na">modResult</span><span class="p">(</span><span class="s1">'method2'</span><span class="p">,</span> <span class="nb">strtoupper</span><span class="p">(</span><span class="nv">$method2_result</span><span class="p">));</span>

    <span class="k">return</span> <span class="nv">$results</span><span class="p">;</span>
<span class="p">});</span>

<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$chain</span><span class="o">-&gt;</span><span class="na">then</span><span class="p">(</span><span class="k">function</span><span class="p">(</span><span class="nv">$results</span><span class="p">){</span>
    <span class="k">return</span> <span class="nb">strtoupper</span><span class="p">(</span><span class="nv">$method1</span><span class="p">)</span> <span class="o">.</span> <span class="s1">' - '</span> <span class="o">.</span> <span class="nv">$method2</span><span class="p">;</span>
<span class="p">});</span>
</code></pre></div> </main></div> <footer class="site-footer"> <span class="site-footer-owner"> <a href="https://github.com/CupOfTea696/Chain/">Chain</a> is maintained by <a href="https://github.com/CupOfTea696">CupOfTea696</a>. </span> </footer> </section> <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script><script src="/assets/js/app.js?cb=d735cbd9e60a21104256df7ee8382009"></script></body></html>